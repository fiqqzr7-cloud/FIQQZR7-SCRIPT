-- FIQQZR7 AUTOWALlocal player = game.Players.LocalPlayer
repeat task.wait() until player and player:FindFirstChild("PlayerGui")

-- Variables
local recording = false
local playing = false
local currentPath = {}
local speed = 1.0
local conn = nil
local humanoid = nil

-- Function to get humanoid
local function getHumanoid()
    if player.Character then
        return player.Character:FindFirstChild("Humanoid")
    end
    return nil
end

-- Function to set walk animation
local function setWalkAnimation(speedMultiplier)
    humanoid = getHumanoid()
    if humanoid then
        humanoid.WalkSpeed = 16 * speedMultiplier
    end
end

-- Function to reset animation
local function resetAnimation()
    humanoid = getHumanoid()
    if humanoid then
        humanoid.WalkSpeed = 16
    end
end

-- Create UI (lebih kecil)
local gui = Instance.new("ScreenGui")
gui.Name = "AutoWalk"
gui.Parent = player.PlayerGui

local frame = Instance.new("Frame")
frame.Size = UDim2.new(0, 200, 0, 250)
frame.Position = UDim2.new(0.5, -100, 0.5, -125)
frame.BackgroundColor3 = Color3.fromRGB(30, 30, 35)
frame.BorderColor3 = Color3.fromRGB(0, 160, 255)
frame.BorderSizePixel = 2
frame.Active = true
frame.Draggable = true
frame.Parent = gui

-- Title
local title = Instance.new("TextLabel")
title.Size = UDim2.new(1, 0, 0, 30)
title.BackgroundColor3 = Color3.fromRGB(40, 40, 45)
title.Text = "FIQQAUTOWALK"
title.TextColor3 = Color3.fromRGB(0, 160, 255)
title.TextSize = 12
title.Font = Enum.Font.GothamBold
title.Parent = frame

-- Status
local status = Instance.new("TextLabel")
status.Size = UDim2.new(1, 0, 0, 20)
status.Position = UDim2.new(0, 0, 0, 30)
status.BackgroundTransparency = 1
status.Text = "‚óè READY"
status.TextColor3 = Color3.fromRGB(255, 255, 255)
status.TextSize = 12
status.Font = Enum.Font.Gotham
status.Parent = frame

-- Points
local points = Instance.new("TextLabel")
points.Size = UDim2.new(1, 0, 0, 20)
points.Position = UDim2.new(0, 0, 0, 50)
points.BackgroundTransparency = 1
points.Text = "0 pts"
points.TextColor3 = Color3.fromRGB(150, 150, 150)
points.TextSize = 10
points.Font = Enum.Font.Gotham
points.Parent = frame

-- Button function
local function createButton(y, text, color, callback)
    local btn = Instance.new("TextButton")
    btn.Size = UDim2.new(0.8, 0, 0, 30)
    btn.Position = UDim2.new(0.1, 0, 0, y)
    btn.BackgroundColor3 = Color3.fromRGB(40, 40, 45)
    btn.TextColor3 = color
    btn.Text = text
    btn.Font = Enum.Font.GothamBold
    btn.TextSize = 11
    btn.Parent = frame
    
    btn.MouseButton1Click:Connect(function()
        btn.BackgroundColor3 = Color3.fromRGB(60, 60, 65)
        task.wait(0.1)
        btn.BackgroundColor3 = Color3.fromRGB(40, 40, 45)
        callback()
    end)
end

-- RECORD BUTTON
createButton(75, "‚è∫Ô∏è RECORD", Color3.fromRGB(0, 200, 100), function()
    if recording then
        recording = false
        status.Text = "‚èπÔ∏è STOPPED"
        status.TextColor3 = Color3.fromRGB(255, 200, 0)
        points.Text = #currentPath .. " pts"
        task.wait(0.5)
        status.Text = "‚óè READY"
        status.TextColor3 = Color3.fromRGB(255, 255, 255)
    else
        if playing then
            playing = false
            if conn then conn:Disconnect() end
            resetAnimation()
        end
        recording = true
        currentPath = {}
        status.Text = "‚óè RECORDING"
        status.TextColor3 = Color3.fromRGB(255, 80, 80)
        points.Text = "0 pts"
    end
end)

-- PLAY BUTTON
createButton(110, "‚ñ∂Ô∏è PLAY", Color3.fromRGB(0, 160, 255), function()
    if #currentPath == 0 then
        status.Text = "‚ùå NO PATH"
        status.TextColor3 = Color3.fromRGB(255, 80, 80)
        task.wait(1)
        status.Text = "‚óè READY"
        status.TextColor3 = Color3.fromRGB(255, 255, 255)
        return
    end
    
    if playing then
        playing = false
        if conn then conn:Disconnect() end
        resetAnimation()
        status.Text = "‚èπÔ∏è STOPPED"
        status.TextColor3 = Color3.fromRGB(255, 200, 0)
        task.wait(0.5)
        status.Text = "‚óè READY"
        status.TextColor3 = Color3.fromRGB(255, 255, 255)
    else
        if recording then
            recording = false
        end
        playing = true
        local start = tick()
        status.Text = "‚óè PLAYING"
        status.TextColor3 = Color3.fromRGB(0, 200, 100)
        
        setWalkAnimation(speed)
        
        if conn then conn:Disconnect() end
        conn = game:GetService("RunService").Heartbeat:Connect(function()
            if not playing or not player.Character then return end
            
            local elapsed = (tick() - start) * speed
            local target = math.floor(elapsed * 30) + 1
            
            if target > #currentPath then
                start = tick()
                target = 1
            end
            
            if player.Character and player.Character:FindFirstChild("HumanoidRootPart") then
                player.Character.HumanoidRootPart.CFrame = CFrame.new(currentPath[target])
            end
        end)
    end
end)

-- Speed controls
local speedText = Instance.new("TextLabel")
speedText.Size = UDim2.new(0.3, 0, 0, 25)
speedText.Position = UDim2.new(0.35, 0, 0, 145)
speedText.BackgroundTransparency = 1
speedText.Text = "‚ö° 1.0x"
speedText.TextColor3 = Color3.fromRGB(0, 160, 255)
speedText.TextSize = 11
speedText.Font = Enum.Font.GothamBold
speedText.Parent = frame

local speedDown = Instance.new("TextButton")
speedDown.Size = UDim2.new(0, 25, 0, 25)
speedDown.Position = UDim2.new(0.2, 0, 0, 145)
speedDown.BackgroundColor3 = Color3.fromRGB(40, 40, 45)
speedDown.TextColor3 = Color3.fromRGB(255, 255, 255)
speedDown.Text = "-"
speedDown.Font = Enum.Font.GothamBold
speedDown.TextSize = 14
speedDown.Parent = frame

speedDown.MouseButton1Click:Connect(function()
    speed = math.max(0.2, speed - 0.2)
    speedText.Text = "‚ö° " .. string.format("%.1f", speed) .. "x"
    if playing then
        setWalkAnimation(speed)
    end
end)

local speedUp = Instance.new("TextButton")
speedUp.Size = UDim2.new(0, 25, 0, 25)
speedUp.Position = UDim2.new(0.65, 0, 0, 145)
speedUp.BackgroundColor3 = Color3.fromRGB(40, 40, 45)
speedUp.TextColor3 = Color3.fromRGB(255, 255, 255)
speedUp.Text = "+"
speedUp.Font = Enum.Font.GothamBold
speedUp.TextSize = 14
speedUp.Parent = frame

speedUp.MouseButton1Click:Connect(function()
    speed = math.min(10.0, speed + 0.2)
    speedText.Text = "‚ö° " .. string.format("%.1f", speed) .. "x"
    if playing then
        setWalkAnimation(speed)
    end
end)

-- Clear button
createButton(175, "üóëÔ∏è CLEAR", Color3.fromRGB(255, 200, 0), function()
    currentPath = {}
    points.Text = "0 pts"
    status.Text = "‚úì CLEARED"
    status.TextColor3 = Color3.fromRGB(255, 200, 0)
    task.wait(0.5)
    status.Text = "‚óè READY"
    status.TextColor3 = Color3.fromRGB(255, 255, 255)
end)

-- Close button
local close = Instance.new("TextButton")
close.Size = UDim2.new(1, 0, 0, 25)
close.Position = UDim2.new(0, 0, 1, -25)
close.BackgroundColor3 = Color3.fromRGB(40, 40, 45)
close.TextColor3 = Color3.fromRGB(255, 80, 80)
close.Text = "‚úï CLOSE"
close.Font = Enum.Font.GothamBold
close.TextSize = 11
close.Parent = frame

close.MouseButton1Click:Connect(function()
    if playing then
        playing = false
        if conn then conn:Disconnect() end
        resetAnimation()
    end
    gui:Destroy()
end)

-- Recording loop
game:GetService("RunService").Heartbeat:Connect(function()
    if recording and player.Character and player.Character:FindFirstChild("HumanoidRootPart") then
        table.insert(currentPath, player.Character.HumanoidRootPart.Position)
        points.Text = #currentPath .. " pts"
    end
end)

-- Character respawn handler
player.CharacterAdded:Connect(function()
    task.wait(1)
    if playing then
        playing = false
        if conn then conn:Disconnect() end
        resetAnimation()
        status.Text = "‚óè READY"
        status.TextColor3 = Color3.fromRGB(255, 255, 255)
    end
    if recording then
        recording = false
    end
end)

print("‚úÖ AUTWALK FIQQZR7")
print("‚è∫Ô∏è RECORD - tekan untuk mula/stop rakam")
print("‚ñ∂Ô∏è PLAY - tekan untuk main/stop balik")
print("‚ö° Speed: 0.2x - 10.0x")
